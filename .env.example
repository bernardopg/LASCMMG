# LASCMMG Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# CORS SETTINGS
# ============================================
# Frontend URL for CORS (development: http://localhost:5173, production: your domain)
CORS_ORIGIN=http://localhost:5173

# ============================================
# SECURITY KEYS
# ============================================
# CRITICAL: Generate strong random strings for production
# Use: node scripts/generate-keys.js or openssl rand -hex 32

# JWT Secret - Used for signing authentication tokens (minimum 64 characters)
JWT_SECRET=your-super-secret-jwt-key-minimum-64-characters-long-change-this

# Cookie Secret - Used for signing cookies (minimum 64 characters)
COOKIE_SECRET=your-super-secret-cookie-key-minimum-64-characters-long-change-this

# CSRF Secret - Used for CSRF token generation (minimum 32 characters)
CSRF_SECRET=your-super-secret-csrf-key-minimum-32-characters-long

# JWT Token Expiration (e.g., 24h, 7d, 1y)
JWT_EXPIRATION=24h

# Session inactivity timeout in seconds (default: 1800 = 30 minutes)
SESSION_INACTIVITY_TIMEOUT_SECONDS=1800

# ============================================
# RATE LIMITING
# ============================================
# Time window for rate limiting in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests per window (default: 100 for production, 1000 for dev)
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Directory where database files are stored
DATA_DIR=./data

# Database file name (will use test-database.sqlite in test mode automatically)
# DB_FILE=database.sqlite

# Log SQL queries in development mode (true/false)
# LOG_QUERIES=true

# Database backup directory
DB_BACKUP_PATH=./backend/backups/

# ============================================
# REDIS CONFIGURATION
# ============================================
# Redis connection URL
# Local development: redis://localhost:6379
# Production: redis://username:password@host:port/database
REDIS_URL=redis://localhost:6379

# Redis password (if authentication is enabled)
# REDIS_PASSWORD=

# ============================================
# LOGGING
# ============================================
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Log file path (optional, logs to console by default)
# LOG_FILE=./logs/app.log

# ============================================
# FILE UPLOADS
# ============================================
# Maximum file upload size in bytes (default: 5MB)
MAX_FILE_SIZE=5242880

# Upload directory
UPLOAD_DIR=./uploads

# ============================================
# EMAIL CONFIGURATION (Optional - for notifications)
# ============================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-email-password
# SMTP_FROM=noreply@lascmmg.com

# ============================================
# FRONTEND CONFIGURATION (for frontend-react/.env)
# ============================================
# VITE_API_URL=http://localhost:3000
# VITE_WS_URL=ws://localhost:3000

# ============================================
# ADDITIONAL SECURITY SETTINGS
# ============================================
# Trust proxy (set to 1 in production behind nginx/load balancer)
# TRUST_PROXY=1

# Force HTTPS in production
# FORCE_HTTPS=true

# ============================================
# NOTES
# ============================================
# 1. Generate secure secrets using: node scripts/generate-keys.js
# 2. Different secrets for JWT, COOKIE, and CSRF are recommended
# 3. Never use default/example values in production
# 4. Rotate secrets periodically for enhanced security
# 5. Keep .env file permissions restricted (chmod 600 .env)
