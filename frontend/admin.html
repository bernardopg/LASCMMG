<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administração - Torneio de Sinuca</title>
  <link rel="stylesheet" href="css/base/style.css" />
  <link rel="stylesheet" href="css/themes/faculdade-theme.css" />
  <link rel="stylesheet" href="css/themes/verde-escuro-theme.css" />
  <link rel="stylesheet" href="css/pages/admin.css" />
  <link rel="stylesheet" href="css/components/visual-improvements.css" />
  <link rel="stylesheet" href="css/pages/dashboard.css" />
  <meta name="description" content="Painel administrativo para gerenciamento do torneio de sinuca" />
  <script>
    // Remove parâmetros sensíveis da URL imediatamente ao carregar
    (function() {
      const SENSITIVE_PARAMS = ['username', 'password', 'email_confirm', 'url'];
      const url = new URL(window.location.href);
      let changed = false;
      SENSITIVE_PARAMS.forEach(param => {
        if (url.searchParams.has(param)) {
          url.searchParams.delete(param);
          changed = true;
        }
      });
      if (changed) {
        window.history.replaceState({}, '', url.pathname + url.search + url.hash);
      }
    })();
  </script>
</head>

<body>
  <!-- Sidebar com o mesmo padrão do index.html -->
  <aside class="sidebar">
    <!-- Mudado de div para aside -->
    <div class="sidebar-header">
      <div class="logo-container">
        <img src="assets/logo.jpeg" alt="Logo LASCMMG" class="logo-mini" />
        <h1>Painel Admin</h1>
      </div>
      <button id="toggle-sidebar-btn" class="toggle-sidebar-btn" aria-label="Alternar menu">
        ☰
      </button>
    </div>
    <div class="sidebar-content">
      <!-- Tornar este um container flex column -->
      <nav class="sidebar-nav">
        <!-- Nav principal que cresce -->
        <ul class="sidebar-nav-main">
          <!-- Lista principal -->
          <li>
            <button id="menu-dashboard" class="nav-item active" aria-pressed="true">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M3,13H11V3H3V13M3,21H11V15H3V21M13,21H21V11H13V21M13,3V9H21V3H13Z"></path>
              </svg>
              <span title="Painel Administrativo">Painel Administrativo</span>
            </button>
          </li>
          <li>
            <button id="menu-tournaments" class="nav-item" aria-pressed="false">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M3,3H21V8H3V3M3,10H21V15H3V10M3,17H21V22H3V17Z"></path>
              </svg>
              <span title="Torneios">Torneios</span>
            </button>
          </li>
          <li>
            <!-- Novo Item Agendamento -->
            <button id="menu-agendamento" class="nav-item" aria-pressed="false">
              <svg class="icon" viewBox="0 0 24 24">
                <path
                  d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3H18V1M17,12H12V17H17V12Z">
                </path>
                <!-- Ícone de Calendário/Relógio -->
              </svg>
              <span title="Agendamento">Agendamento</span>
            </button>
          </li>
          <li>
            <button id="menu-scores" class="nav-item" aria-pressed="false">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M7,13H21V11H7M7,19H21V17H7M7,7H21V5H7M3,8V5H5V8H8V10H5V13H3V10H0V8H3Z"></path>
              </svg>
              <span title="Placares">Placares</span>
            </button>
          </li>
          <li>
            <button id="menu-players" class="nav-item" aria-pressed="false">
              <svg class="icon" viewBox="0 0 24 24">
                <path
                  d="M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z">
                </path>
              </svg>
              <span title="Jogadores">Jogadores</span>
            </button>
          </li>
          <!-- Itens principais terminam aqui -->
        </ul>
      </nav>
      <div class="sidebar-nav-bottom">
        <!-- Container para itens inferiores -->
        <nav class="sidebar-nav">
          <ul>
            <li>
              <button id="menu-lixeira" class="nav-item" aria-pressed="false">
                <svg class="icon" viewBox="0 0 24 24">
                  <path
                    d="M9,3V4H4V6H5V19C5,20.1 5.9,21 7,21H17C18.1,21 19,20.1 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z">
                  </path>
                </svg>
                <span title="Lixeira">Lixeira</span>
              </button>
            </li>
            <li>
              <a href="admin-security.html" class="nav-item" title="Segurança">
                <svg class="icon" viewBox="0 0 24 24">
                  <path
                    d="M12,12H19C18.47,16.11 15.72,19.78 12,20.92V12H5V6.3L12,3.19M12,1L3,5V11C3,16.55 6.84,21.73 12,23C17.16,21.73 21,16.55 21,11V5L12,1Z">
                  </path>
                </svg>
                <span>Segurança</span>
              </a>
            </li>
            <!-- Item de Perfil removido -->
            <li>
              <!-- Botão Sair adicionado de volta -->
              <button id="logout-btn" class="nav-item">
                <svg class="icon" viewBox="0 0 24 24">
                  <path
                    d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z">
                  </path>
                </svg>
                <span title="Sair">Sair</span>
              </button>
            </li>
            <li>
              <a href="index.html" class="nav-item" title="Voltar ao Torneio">
                <svg class="icon" viewBox="0 0 24 24">
                  <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"></path>
                </svg>
                <span>Voltar ao Torneio</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </aside>
  <!-- Fim do aside -->

  <div class="content-wrapper">
    <header class="mobile-header">
      <button id="mobile-sidebar-toggle" class="toggle-sidebar-btn" aria-label="Abrir menu">
        ☰
      </button>
      <h1>Admin - Torneio de Sinuca</h1>
      <!-- Profile container moved outside header -->
    </header>

    <!-- Profile Icon and Menu Container (Mobile - Moved Here) -->
    <div class="profile-container mobile-profile-container">
      <!-- Added class for specific styling if needed -->
      <button id="profile-btn" class="profile-btn" aria-label="Abrir menu do perfil" aria-haspopup="true"
        aria-expanded="false">
        <svg class="icon" viewBox="0 0 24 24">
          <path
            d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z">
          </path>
        </svg>
      </button>
      <div id="profile-menu" class="profile-menu" role="menu">
        <div class="profile-menu-header">Admin Logado</div>
        <button id="admin-logout-menu-btn" class="profile-menu-item" role="menuitem">
          <svg class="icon" viewBox="0 0 24 24">
            <path
              d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z">
            </path>
          </svg>
          Sair
        </button>
      </div>
    </div>

    <div id="message-container" role="alert" aria-live="assertive"></div>

<div class="admin-section" id="login-section">
  <h1>Login Administrativo</h1>
  <form id="login-form" autocomplete="off">
    <div class="form-group">
      <label for="username">Usuário:</label>
      <input type="text" id="username" name="username" required autocomplete="username" aria-required="true" />
    </div>
    <div class="form-group">
      <label for="password">Senha:</label>
      <input type="password" id="password" name="password" required autocomplete="off" aria-required="true" />
    </div>
    <div id="login-message" class="form-message" aria-live="assertive" style="min-height:1.5em"></div>
    <button type="submit" class="btn btn-primary" id="login-submit-btn" aria-label="Entrar no painel administrativo">Entrar</button>
  </form>
</div>

    <div class="admin-section hidden-section" id="admin-dashboard">
      <header>
        <!-- Header principal (não móvel) -->
        <h1>Painel Administrativo - Torneio de Sinuca</h1>
        <!-- Profile container moved outside header -->
      </header>

      <!-- Profile Icon and Menu Container (Desktop - Moved Here) -->
      <div class="profile-container desktop-profile-container">
        <!-- Added class for specific styling if needed -->
        <button id="profile-btn-desktop" class="profile-btn" aria-label="Abrir menu do perfil" aria-haspopup="true"
          aria-expanded="false">
          <svg class="icon" viewBox="0 0 24 24">
            <path
              d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z">
            </path>
          </svg>
        </button>
        <div id="profile-menu-desktop" class="profile-menu" role="menu">
          <div class="profile-menu-header">Admin Logado</div>
          <button id="admin-logout-menu-btn-desktop" class="profile-menu-item" role="menuitem">
            <svg class="icon" viewBox="0 0 24 24">
              <path
                d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z">
              </path>
            </svg>
            Sair
          </button>
        </div>
      </div>

      <!-- Breadcrumbs para navegação -->
      <nav class="breadcrumbs" aria-label="Navegação estrutural">
        <!-- Mudado de div para nav -->
        <a href="index.html">Início</a> >
        <span>Painel Administrativo</span>
      </nav>

      <!-- Seletor de Torneio -->
      <div id="tournament-selector">
        <select id="current-tournament" aria-label="Selecione um torneio">
          <option value="">Selecione um torneio</option>
        </select>
        <button id="btn-refresh-tournaments" class="btn btn-primary">
          Atualizar
        </button>
      </div>

      <main>
        <!-- Seção de Dashboard -->
        <section id="section-dashboard" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="dashboard-heading">
          <h2 id="dashboard-heading">Dashboard Administrativo</h2>

          <div class="dashboard-container">
            <!-- Coluna Principal (Torneios ativos e jogos próximos) -->
            <div class="dashboard-main-column">
              <!-- Torneios Ativos -->
              <div class="dashboard-section">
                <h3>Torneios Ativos</h3>
                <div class="table-actions">
                  <button id="refresh-dashboard-btn" class="btn btn-primary btn-small">
                    Atualizar Dashboard
                  </button>
                </div>
                <div id="active-tournaments-container">
                  <div class="loading-indicator">
                    Carregando torneios ativos...
                  </div>
                </div>
              </div>

              <!-- Próximos Jogos -->
              <div class="dashboard-section">
                <h3>Próximos Jogos</h3>
                <div id="upcoming-matches-container">
                  <div class="loading-indicator">
                    Carregando próximos jogos...
                  </div>
                </div>
              </div>
            </div>

            <!-- Coluna Lateral (Estatísticas e Atividades) -->
            <div class="dashboard-side-column">
              <!-- Estatísticas do Sistema -->
              <div class="dashboard-section">
                <h3>Estatísticas do Sistema</h3>
                <div id="dashboard-stats-container">
                  <div class="loading-indicator">
                    Carregando estatísticas...
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Seção de Gerenciamento de Torneios -->
        <section id="section-torneios" class="admin-section-content active-content" aria-live="polite" role="region"
          aria-labelledby="torneios-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="torneios-heading">Criar Novo Torneio</h3>
            <!-- Adicionado ID -->
            <form id="new-tournament-form">
              <div class="form-group">
                <label for="tournament-name">Nome do Torneio:</label>
                <input type="text" id="tournament-name" name="name" required />
                <!-- Added name="name" -->
              </div>
              <div class="form-group">
                <label for="tournament-date">Data:</label>
                <input type="date" id="tournament-date" name="date" required />
                <!-- Added name="date" -->
              </div>
              <div class="form-group">
                <label for="tournament-description">Descrição:</label>
                <textarea id="tournament-description" name="description" rows="3" maxlength="500"></textarea>
                <!-- Adicionado name e maxlength -->
              </div>
              <div class="form-group">
                <label for="tournament-num-players">Número de Jogadores:</label>
                <select id="tournament-num-players" name="numPlayers" required>
                  <!-- Adicionado name -->
                  <option value="8">8 Jogadores</option>
                  <option value="16">16 Jogadores</option>
                  <option value="32" selected>32 Jogadores</option>
                  <option value="64">64 Jogadores</option>
                </select>
              </div>
              <div class="form-group">
                <label for="tournament-type">Tipo de Chaveamento:</label>
                <select id="tournament-type" name="type" required>
                  <!-- Adicionado name -->
                  <option value="single-elimination" selected>
                    Eliminatória Simples
                  </option>
                  <option value="double-elimination">
                    Eliminatória Dupla
                  </option>
                  <option value="group-stage">Fase de Grupos</option>
                </select>
              </div>
              <div class="form-group">
                <label for="tournament-entry-fee">Taxa de Inscrição:</label>
                <input type="number" id="tournament-entry-fee" name="entry_fee" step="0.01" min="0"
                  placeholder="Ex: 10.00" />
              </div>
              <div class="form-group">
                <label for="tournament-prize-pool">Premiação:</label>
                <input type="text" id="tournament-prize-pool" name="prize_pool" placeholder="Ex: Troféu + Medalhas" />
              </div>
              <div class="form-group">
                <label for="tournament-rules">Regras:</label>
                <textarea id="tournament-rules" name="rules" rows="3" maxlength="1000"
                  placeholder="Descreva as regras do torneio..."></textarea>
              </div>
              <button type="submit" class="btn btn-primary">
                Criar Torneio
              </button>
            </form>
          </div>

          <div class="admin-card">
            <h3 id="torneios-existentes-heading">Torneios Existentes</h3>
            <!-- Adicionado ID -->
            <div class="table-actions">
              <!-- Mover table-actions para fora do container para aplicar ao card -->
              <div class="form-group search-filter">
                <!-- Adicionar campo de busca -->
                <label for="search-tournaments" class="sr-only">Buscar Torneios:</label>
                <input type="search" id="search-tournaments" placeholder="Buscar por nome..."
                  aria-controls="tournaments-body" />
              </div>
              <button id="btn-refresh-tournaments-list" class="btn btn-primary btn-small">
                Atualizar
              </button>
            </div>
            <table aria-label="Tabela de torneios existentes">
              <thead>
                <tr>
                  <th scope="col">Nome</th>
                  <th scope="col">Data</th>
                  <th scope="col">Status</th>
                  <th scope="col" style="min-width: 180px">Ações</th>
                  <!-- Aumentar largura para caber 3 botões -->
                </tr>
              </thead>
              <tbody id="tournaments-body" aria-live="polite">
                <!-- Adicionado aria-live -->
                <tr>
                  <td colspan="4" class="loading-cell">
                    <div class="loading-indicator">
                      Carregando torneios...
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- Card para Detalhes/Edição do Torneio Selecionado -->
          <div class="admin-card hidden-section" id="selected-tournament-details-card">
            <h3 id="selected-tournament-heading">
              Detalhes do Torneio Selecionado
            </h3>
            <form id="edit-tournament-form">
              <input type="hidden" id="edit-tournament-id" name="tournamentId" />
              <div class="form-group">
                <label for="edit-tournament-name">Nome:</label>
                <input type="text" id="edit-tournament-name" name="name" required maxlength="100" />
              </div>
              <div class="form-group">
                <label for="edit-tournament-description">Descrição:</label>
                <textarea id="edit-tournament-description" name="description" rows="3" maxlength="500"></textarea>
              </div>
              <div class="form-group">
                <label for="edit-tournament-status">Status:</label>
                <select id="edit-tournament-status" name="status" required>
                  <option value="Pendente">Pendente</option>
                  <option value="Em Andamento">Em Andamento</option>
                  <option value="Concluído">Concluído</option>
                  <option value="Cancelado">Cancelado</option>
                </select>
              </div>
              <div class="form-group">
                <!-- Campo apenas leitura para Data -->
                <label for="edit-tournament-date">Data:</label>
                <input type="text" id="edit-tournament-date" name="date" readonly disabled />
              </div>
              <div class="form-group">
                <!-- Campo apenas leitura para Tipo -->
                <label for="edit-tournament-type-display">Tipo:</label>
                <input type="text" id="edit-tournament-type-display" name="typeDisplay" readonly disabled />
              </div>
              <div class="form-group">
                <label for="edit-tournament-entry-fee">Taxa de Inscrição:</label>
                <input type="number" id="edit-tournament-entry-fee" name="entry_fee" step="0.01" min="0"
                  placeholder="Ex: 10.00" />
              </div>
              <div class="form-group">
                <label for="edit-tournament-prize-pool">Premiação:</label>
                <input type="text" id="edit-tournament-prize-pool" name="prize_pool"
                  placeholder="Ex: Troféu + Medalhas" />
              </div>
              <div class="form-group">
                <label for="edit-tournament-rules">Regras:</label>
                <textarea id="edit-tournament-rules" name="rules" rows="3" maxlength="1000"
                  placeholder="Descreva as regras do torneio..."></textarea>
              </div>
              <button type="submit" id="btn-save-tournament-details" class="btn btn-primary">
                Salvar Alterações
              </button>
            </form>
          </div>
          <!-- Fim do Card de Detalhes/Edição -->
        </section>

        <!-- Seção da Lixeira -->
        <section id="section-lixeira" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="lixeira-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="lixeira-heading">Lixeira de Torneios</h3>
            <!-- Adicionado ID -->
            <p>
              Torneios excluídos aparecerão aqui. Você pode restaurá-los ou
              excluí-los permanentemente.
            </p>
            <div class="table-container">
              <div class="table-actions">
                <button id="btn-refresh-trash" class="btn btn-primary btn-small">
                  Atualizar Lixeira
                </button>
                <button id="btn-empty-trash" class="btn btn-danger btn-small">
                  Esvaziar Lixeira
                </button>
              </div>
              <table aria-label="Tabela de torneios na lixeira">
                <thead>
                  <tr>
                    <th scope="col">Nome</th>
                    <th scope="col">Data Exclusão</th>
                    <th scope="col">Ações</th>
                  </tr>
                </thead>
                <tbody id="trash-body" aria-live="polite">
                  <!-- Adicionado aria-live -->
                  <tr>
                    <td colspan="3" style="text-align: center">
                      Lixeira vazia ou funcionalidade pendente.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="admin-trash-pagination" class="pagination-controls">
              <!-- Controles de paginação para Lixeira -->
            </div>
          </div>
        </section>

        <!-- Seção de Agendamento -->
        <section id="section-agendamento" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="agendamento-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="agendamento-heading">Agendar Partidas</h3>
            <!-- Adicionado ID -->
            <p>
              Selecione uma partida abaixo para definir ou alterar sua data e
              hora.
            </p>
            <form id="schedule-match-form">
              <div class="form-group">
                <label for="schedule-match-select">Selecione a Partida:</label>
                <select id="schedule-match-select" required aria-label="Selecione a partida para agendar">
                  <option value="">
                    -- Selecione uma partida pendente --
                  </option>
                  <!-- Opções preenchidas por JS -->
                </select>
              </div>
              <div class="form-group">
                <label for="schedule-match-datetime">Nova Data/Hora:</label>
                <input type="datetime-local" id="schedule-match-datetime" required
                  aria-label="Nova data e hora da partida" />
              </div>
              <button type="submit" class="btn btn-primary">
                Salvar Agendamento
              </button>
            </form>
          </div>
        </section>

        <!-- Seção de Gerenciamento de Placares -->
        <section id="section-placar" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="placar-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="placar-heading">Adicionar/Editar Placar</h3>
            <!-- Adicionado ID -->
            <form id="admin-score-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="admin-match-select">Selecione uma Partida:</label>
                  <select id="admin-match-select" required aria-label="Selecione uma partida do chaveamento">
                    <option value="">Selecione uma partida</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="admin-player1">Jogador 1:</label>
                  <select id="admin-player1" required disabled aria-label="Jogador 1">
                    <option value="">-- Selecione Partida --</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="admin-score1">Placar Jogador 1:</label>
                  <input type="number" id="admin-score1" min="0" max="2" required aria-label="Placar do jogador 1"
                    name="score1" />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="admin-player2">Jogador 2:</label>
                  <select id="admin-player2" required disabled aria-label="Jogador 2">
                    <option value="">-- Selecione Partida --</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="admin-score2">Placar Jogador 2:</label>
                  <input type="number" id="admin-score2" min="0" max="2" required aria-label="Placar do jogador 2"
                    name="score2" />
                </div>
              </div>
              <div class="form-row">
                <!-- Nova linha para Data/Hora -->
                <div class="form-group">
                  <label for="admin-match-datetime">Data/Hora da Partida:</label>
                  <input type="datetime-local" id="admin-match-datetime" name="match-datetime"
                    aria-label="Data e hora da partida" />
                </div>
                <div class="form-group hidden-field">
                  <!-- Mantém a rodada oculta -->
                  <label for="admin-round">Rodada:</label>
                  <input type="text" id="admin-round" name="round" required readonly />
                  <!-- Added name="round" -->
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                Salvar Placar
              </button>
              <button type="reset" class="btn btn-secondary">Limpar</button>
            </form>
          </div>

          <div class="admin-card">
            <h3 id="historico-placar-heading">Histórico de Placares</h3>
            <!-- Adicionado ID -->
            <div class="table-actions">
              <div class="form-group search-filter">
                <!-- Adicionar campo de busca -->
                <label for="search-scores" class="sr-only">Buscar Placares:</label>
                <input type="search" id="search-scores" placeholder="Buscar por jogador, placar..."
                  aria-controls="admin-scores-body" />
              </div>
              <button id="btn-refresh-scores" class="btn btn-primary btn-small">
                Atualizar
              </button>
            </div>
            <div class="table-container">
              <table aria-label="Histórico de placares">
                <thead>
                  <tr>
                    <th scope="col">Data</th>
                    <th scope="col">Jogador 1</th>
                    <th scope="col">Jogador 2</th>
                    <th scope="col">Placar</th>
                    <th scope="col">Vencedor</th>
                    <th scope="col">Rodada</th>
                    <th scope="col">Ações</th>
                  </tr>
                </thead>
                <tbody id="admin-scores-body" aria-live="polite">
                  <!-- Adicionado aria-live -->
                  <tr>
                    <td colspan="7" class="loading-cell">
                      <div class="loading-indicator">
                        Carregando histórico...
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="admin-scores-pagination" class="pagination-controls">
              <!-- Controles de paginação para Placares -->
            </div>
          </div>
        </section>

        <!-- Seção de Gerenciamento de Jogadores -->
        <section id="section-jogadores" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="jogadores-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="jogadores-heading">Adicionar Jogador</h3>
            <!-- Adicionado ID -->
            <form id="admin-player-form">
              <div class="form-group">
                <label for="player-name">Nome:</label>
                <input type="text" id="player-name" name="playerName" required minlength="2" maxlength="50" />
                <!-- Adicionado name, minlength, maxlength -->
              </div>
              <div class="form-group">
                <label for="player-nickname">Apelido:</label>
                <input type="text" id="player-nickname" name="nickname" maxlength="30" />
                <!-- Adicionado name, maxlength -->
              </div>
              <div class="form-group">
                <label for="player-gender">Gênero:</label>
                <select id="player-gender" name="gender">
                  <option value="">Não especificado</option>
                  <option value="Masculino">Masculino</option>
                  <option value="Feminino">Feminino</option>
                  <option value="Outro">Outro</option>
                </select>
              </div>
              <div class="form-group">
                <label for="player-skill-level">Nível de Habilidade:</label>
                <select id="player-skill-level" name="skill_level">
                  <option value="">Não especificado</option>
                  <option value="Iniciante">Iniciante</option>
                  <option value="Intermediário">Intermediário</option>
                  <option value="Avançado">Avançado</option>
                  <option value="Profissional">Profissional</option>
                </select>
              </div>
              <button type="submit" class="btn btn-primary">Adicionar</button>
              <!-- Texto será alterado por JS para "Atualizar" -->
            </form>
          </div>

          <div class="admin-card">
            <h3 id="lista-jogadores-heading">Lista de Jogadores</h3>
            <!-- Adicionado ID -->
            <div class="table-actions">
              <div class="form-group search-filter">
                <!-- Adicionar campo de busca -->
                <label for="search-players" class="sr-only">Buscar Jogadores:</label>
                <input type="search" id="search-players" placeholder="Buscar por nome ou apelido..."
                  aria-controls="admin-players-body" />
              </div>
              <button id="btn-refresh-players" class="btn btn-primary btn-small">
                Atualizar
              </button>
              <div class="import-csv">
                <label for="import-players-json" class="btn btn-primary btn-small">Importar JSON</label>
                <input type="file" id="import-players-json" accept=".json" style="display: none" />
                <details class="csv-help">
                  <summary>Formato do JSON</summary>
                  <small>
                    O arquivo JSON deve conter um array de objetos com campos:
                    <code>PlayerName</code> (obrigatório),
                    <code>Nickname</code> (opcional),
                    <code>gender</code> (opcional, ex: "Masculino",
                    "Feminino", "Outro"), e
                    <code>skill_level</code> (opcional, ex: "Iniciante",
                    "Intermediário", "Avançado", "Profissional"). Veja o
                    exemplo abaixo:
                    <pre>
[
  {
    "PlayerName": "João Silva",
    "Nickname": "JSilva",
    "gender": "Masculino",
    "skill_level": "Avançado"
  },
  {
    "PlayerName": "Maria Oliveira",
    "Nickname": "",
    "gender": "Feminino",
    "skill_level": "Intermediário"
  },
  {
    "PlayerName": "Carlos Pereira",
    "Nickname": "Carlinhos"
  }
]
                      </pre>
                  </small>
                </details>
              </div>
            </div>
            <div class="table-container">
              <table aria-label="Lista de jogadores">
                <thead>
                  <tr>
                    <th scope="col">Nome</th>
                    <th scope="col">Apelido</th>
                    <th scope="col">Gênero</th>
                    <th scope="col">Nível</th>
                    <th scope="col">Ações</th>
                  </tr>
                </thead>
                <tbody id="admin-players-body" aria-live="polite">
                  <!-- Adicionado aria-live -->
                  <tr>
                    <td colspan="5" class="loading-cell">
                      <div class="loading-indicator">
                        Carregando jogadores...
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="admin-players-pagination" class="pagination-controls">
              <!-- Controles de paginação para Jogadores -->
            </div>
          </div>
        </section>

        <!-- Seção de Configuração do Torneio -->
        <section id="section-torneio" class="admin-section-content hidden-content" aria-live="polite" role="region"
          aria-labelledby="torneio-config-heading">
          <!-- Adicionado role e aria-labelledby -->
          <div class="admin-card">
            <h3 id="torneio-config-heading">Chaveamento do Torneio</h3>
            <!-- Adicionado ID -->
            <div id="admin-bracket-view" class="bracket">
              <div class="loading-indicator">
                Carregando dados do torneio...
              </div>
            </div>
            <div class="tournament-actions">
              <button id="btn-gerar-chaveamento" class="btn btn-action btn-success-custom">
                Gerar Chaveamento Automático
              </button>
              <button id="btn-reiniciar-torneio" class="btn btn-action btn-danger">
                Reiniciar Torneio
              </button>
              <button id="btn-exportar-dados" class="btn btn-action">
                Exportar Dados
              </button>
            </div>
          </div>

          <div class="admin-card">
            <h3>Adicionar Jogador Manualmente ao Torneio</h3>
            <form id="manual-add-player-to-tournament-form">
              <div class="form-group">
                <label for="manual-tournament-player-name">Nome:</label>
                <input type="text" id="manual-tournament-player-name" name="manualPlayerName" required minlength="2"
                  maxlength="50" />
                <!-- Adicionado name, minlength, maxlength -->
              </div>
              <div class="form-group">
                <label for="manual-tournament-player-nickname">Apelido:</label>
                <input type="text" id="manual-tournament-player-nickname" name="manualNickname" maxlength="30" />
                <!-- Adicionado name, maxlength -->
              </div>
              <div class="form-group">
                <label for="manual-tournament-player-gender">Gênero:</label>
                <select id="manual-tournament-player-gender" name="manualGender">
                  <option value="">Não especificado</option>
                  <option value="Masculino">Masculino</option>
                  <option value="Feminino">Feminino</option>
                  <option value="Outro">Outro</option>
                </select>
              </div>
              <div class="form-group">
                <label for="manual-tournament-player-skill-level">Nível de Habilidade:</label>
                <select id="manual-tournament-player-skill-level" name="manualSkillLevel">
                  <option value="">Não especificado</option>
                  <option value="Iniciante">Iniciante</option>
                  <option value="Intermediário">Intermediário</option>
                  <option value="Avançado">Avançado</option>
                  <option value="Profissional">Profissional</option>
                </select>
              </div>
              <button type="submit" class="btn btn-primary">
                Adicionar Jogador
              </button>
            </form>
          </div>

          <div class="admin-card">
            <h3>Importar Jogadores para este Torneio</h3>
            <div class="import-csv">
              <label for="import-players-tournament-json" class="btn btn-primary btn-small">Importar JSON</label>
              <input type="file" id="import-players-tournament-json" accept=".json" style="display: none" />
              <details class="csv-help">
                <summary>Formato do JSON</summary>
                <small>
                  Selecione um arquivo JSON para adicionar ou atualizar
                  jogadores neste torneio.<br />
                  O arquivo JSON deve conter um array de objetos com campos:
                  <code>PlayerName</code> (obrigatório),
                  <code>Nickname</code> (opcional),
                  <code>gender</code> (opcional, ex: "Masculino", "Feminino",
                  "Outro"), e <code>skill_level</code> (opcional, ex:
                  "Iniciante", "Intermediário", "Avançado", "Profissional").
                  Veja o exemplo abaixo:
                  <pre>
[
  {
    "PlayerName": "João Silva",
    "Nickname": "JSilva",
    "gender": "Masculino",
    "skill_level": "Avançado"
  },
  {
    "PlayerName": "Maria Oliveira",
    "Nickname": "",
    "gender": "Feminino",
    "skill_level": "Intermediário"
  },
  {
    "PlayerName": "Carlos Pereira",
    "Nickname": "Carlinhos"
  }
]
                    </pre>
                </small>
              </details>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Load the main application module -->
  <script type="module" src="js/admin/navigation.js"></script>
  <script type="module" src="js/ui/theme/theme.js"></script>
  <script type="module" src="js/admin/adminApp.js"></script>
  <script type="module" src="js/admin/createSampleTournaments.js"></script>
  <!-- Old scripts (utils.js, admin.js) are no longer needed -->
</body>

</html>
